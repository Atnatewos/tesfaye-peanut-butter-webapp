/* File: css/core/_compatibility.css */
/* ===== CROSS-BROWSER COMPATIBILITY FIXES ===== */

/* ðŸŽ¯ PHASE 3: Safari-specific fixes */
@supports (-webkit-touch-callout: none) {
  /* Safari specific styles */
  .hero {
    background-attachment: scroll; /* Safari has issues with fixed background */
    min-height: -webkit-fill-available; /* Better mobile Safari support */
  }
  
  /* Safari backdrop-filter fallback */
  .nav-main {
    background: rgba(255, 255, 255, 0.98);
  }
  
  .homepage .nav-main {
    background: transparent;
  }
  
  .homepage .nav-main.scrolled {
    background: rgba(255, 255, 255, 0.98);
  }
}

/* ðŸŽ¯ PHASE 3: Firefox-specific fixes */
@-moz-document url-prefix() {
  .form-control {
    /* Firefox form styling fixes */
    padding: calc(var(--space-md) - 1px); /* Adjust for Firefox border rendering */
  }
  
  .loading-spinner {
    /* Firefox animation performance */
    will-change: transform;
  }
}

/* ðŸŽ¯ PHASE 3: Internet Explorer fallbacks (if needed) */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /* IE 10+ specific styles */
  .hero {
    background-attachment: scroll;
  }
  
  .product-grid {
    display: -ms-grid;
    -ms-grid-columns: 1fr 1fr 1fr;
  }
  
  /* Hide modern features that break IE */
  .nav-main {
    backdrop-filter: none;
  }
}

/* ðŸŽ¯ PHASE 3: Mobile browser viewport fixes */
@viewport {
  width: device-width;
  zoom: 1.0;
}

/* ðŸŽ¯ PHASE 3: Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .product-card:hover {
    transform: none; /* Disable hover effects on touch devices */
  }
  
  .nav-main__link:hover::after {
    width: 0; /* Disable hover underline on touch */
  }
  
  /* Larger touch targets for mobile */
  .nav-main__link {
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .btn {
    min-height: 44px;
    min-width: 44px;
  }
}